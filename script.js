const FONT = {
  A: ["█▀▀█", "█░░█", "████", "█░░█", "█░░█"],
  B: ["█▀▀█", "█▀▀█", "████", "█░░█", "█▀▀█"],
  C: ["█▀▀▀", "█░░░", "█░░░", "█░░░", "▀▀▀▀"],
  D: ["█▀▀█", "█░░█", "█░░█", "█░░█", "█▀▀█"],
  E: ["████", "█░░░", "████", "█░░░", "████"],
  F: ["████", "█░░░", "████", "█░░░", "█░░░"],
  G: ["█▀▀▀", "█░░░", "█░██", "█░░█", "▀▀▀█"],
  H: ["█░░█", "█░░█", "████", "█░░█", "█░░█"],
  I: ["▀██▀", "░██░", "░██░", "░██░", "▀██▀"],
  J: ["░░██", "░░██", "░░██", "█░██", "▀▀▀░"],
  K: ["█░░█", "█░█░", "██░░", "█░█░", "█░░█"],
  L: ["█░░░", "█░░░", "█░░░", "█░░░", "████"],
  M: ["█░░█", "██░█", "█░█░", "█░░█", "█░░█"],
  N: ["█░░█", "██░█", "█░█░", "█░░█", "█░░█"],
  O: ["█▀▀█", "█░░█", "█░░█", "█░░█", "█▀▀█"],
  P: ["█▀▀█", "█░░█", "█▀▀█", "█░░░", "█░░░"],
  Q: ["█▀▀█", "█░░█", "█░░█", "█░█░", "▀▀░█"],
  R: ["█▀▀█", "█░░█", "█▀▀█", "█░█░", "█░░█"],
  S: ["▀▀▀█", "█░░░", "▀▀▀█", "░░░█", "█▀▀▀"],
  T: ["████", "░██░", "░██░", "░██░", "░██░"],
  U: ["█░░█", "█░░█", "█░░█", "█░░█", "▀▀▀▀"],
  V: ["█░░█", "█░░█", "█░░█", "░█░█", "░▀▀░"],
  W: ["█░░█", "█░░█", "█░█░", "██░█", "█░░█"],
  X: ["█░░█", "░█░█", "░▀▀░", "░█░█", "█░░█"],
  Y: ["█░░█", "░█░█", "░▀▀░", "░██░", "░██░"],
  Z: ["████", "░░░█", "░░█░", "░█░░", "████"],
  "0": ["█▀▀█", "█░░█", "█░░█", "█░░█", "█▀▀█"],
  "1": ["░██░", "░██░", "░██░", "░██░", "░██░"],
  "2": ["▀▀▀█", "░░░█", "█▀▀▀", "█░░░", "████"],
  "3": ["▀▀▀█", "░░░█", "▀▀▀█", "░░░█", "▀▀▀█"],
  "4": ["█░░█", "█░░█", "████", "░░░█", "░░░█"],
  "5": ["████", "█░░░", "▀▀▀█", "░░░█", "▀▀▀█"],
  "6": ["█▀▀▀", "█░░░", "█▀▀█", "█░░█", "█▀▀█"],
  "7": ["████", "░░░█", "░░█░", "░█░░", "░█░░"],
  "8": ["█▀▀█", "█░░█", "█▀▀█", "█░░█", "█▀▀█"],
  "9": ["█▀▀█", "█░░█", "█▀▀█", "░░░█", "▀▀▀█"],
  "!": ["░██░", "░██░", "░██░", "░░░░", "░██░"],
  "?": ["█▀▀█", "░░░█", "░▀▀░", "░░░░", "░██░"],
  // カタカナ
  ア: ["░██░", "█░░█", "████", "█░░█", "█░░█"],
  イ: ["░██░", "░██░", "░██░", "░██░", "░██░"],
  ウ: ["████", "░░█░", "░█░░", "█░░░", "▀▀▀▀"],
  エ: ["████", "░░░░", "████", "░░░░", "████"],
  オ: ["█░░█", "░█░█", "░▀▀░", "░██░", "░██░"],
  カ: ["█░░█", "░█░█", "░▀▀░", "░█░░", "░█░░"],
  キ: ["████", "░█░░", "████", "░█░░", "░█░░"],
  ク: ["░░░█", "░░█░", "░█░░", "█░░░", "▀▀▀▀"],
  ケ: ["█░░█", "█░█░", "██░░", "█░█░", "█░░█"],
  コ: ["████", "█░░░", "█░░░", "█░░░", "████"],
  サ: ["████", "░█░░", "████", "░█░░", "░▀▀░"],
  シ: ["░█░░", "░░█░", "░░█░", "█░█░", "░▀▀░"],
  ス: ["████", "░░█░", "░▀▀░", "░█░░", "█░░░"],
  セ: ["░█░░", "████", "░█░░", "░█░░", "░▀▀░"],
  ソ: ["░██░", "░░█░", "░░█░", "░█░░", "▀▀░░"],
  タ: ["████", "░░█░", "░▀▀░", "░█░░", "█░░░"],
  チ: ["░██░", "████", "░██░", "░██░", "░▀▀░"],
  ツ: ["█░░█", "░█░█", "░█░█", "░▀▀░", "░░░░"],
  テ: ["████", "░█░░", "░▀▀░", "░██░", "░██░"],
  ト: ["█░░░", "█░░░", "▀▀▀▀", "░░░░", "░░░░"],
  ナ: ["░██░", "████", "░██░", "░██░", "░██░"],
  ニ: ["░░░░", "████", "░░░░", "████", "░░░░"],
  ヌ: ["████", "░░█░", "░▀▀░", "░█░█", "▀▀░▀"],
  ネ: ["░██░", "████", "░▀▀░", "░█░█", "░█░█"],
  ノ: ["░██░", "░██░", "░██░", "░██░", "░██░"],
  ハ: ["█░░█", "█░░█", "█░░█", "░▀▀░", "░░░░"],
  ヒ: ["█░░░", "█░░░", "████", "░░░█", "▀▀▀░"],
  フ: ["████", "░░█░", "░▀▀░", "░░░░", "░░░░"],
  ヘ: ["░░░░", "█░░█", "░▀▀░", "░░░░", "░░░░"],
  ホ: ["█░░█", "████", "░█░░", "░▀▀░", "░░░░"],
  マ: ["████", "░░█░", "░▀▀░", "░█░█", "░█░█"],
  ミ: ["████", "░░░░", "████", "░░░░", "████"],
  ム: ["█░░░", "█░░░", "█░░░", "█░░░", "▀▀▀▀"],
  メ: ["█░░█", "░█░█", "░▀▀░", "░█░█", "█░░█"],
  モ: ["████", "░█░░", "████", "░█░░", "░▀▀░"],
  ヤ: ["█░░█", "░█░█", "░▀▀░", "░██░", "░██░"],
  ユ: ["█░░█", "█░░█", "█░░█", "█░░█", "▀▀▀▀"],
  ヨ: ["████", "░░░█", "████", "░░░█", "████"],
  ラ: ["░░░░", "████", "░░░█", "░░█░", "░█░░"],
  リ: ["█░░█", "█░░█", "░░░░", "░██░", "░██░"],
  ル: ["█░░█", "█░░█", "█░░█", "░█░█", "░▀▀░"],
  レ: ["█░░░", "█░░░", "█░░░", "░█░░", "░▀▀░"],
  ロ: ["████", "█░░█", "█░░█", "█░░█", "████"],
  ワ: ["████", "░░░█", "░░░█", "░░░█", "░░░█"],
  ン: ["░█░░", "░░█░", "░░█░", "█░█░", "░▀▀░"],
  "ー": ["░░░░", "████", "████", "████", "░░░░"],
  // ひらがな
  あ: ["░█▀░", "█░█░", "░██░", "█░█░", "░▀▀░"],
  い: ["█░░░", "█░█░", "█░█░", "█░█░", "░░█░"],
  う: ["░██░", "░░░░", "░██░", "░░█░", "░█░░"],
  え: ["░█░░", "████", "░░█░", "░█░░", "████"],
  お: ["░█░░", "███░", "░█░█", "░█░█", "░▀▀░"],
  か: ["█▀██", "░░█░", "░█░░", "█░░░", "░▀▀░"],
  き: ["░██░", "████", "░█░░", "████", "░▀▀░"],
  く: ["░░█░", "░█░░", "█░░░", "░█░░", "░░█░"],
  け: ["█░█░", "█░█░", "██░░", "█░█░", "█░█░"],
  こ: ["███░", "░░░░", "░░░░", "░░░░", "███░"],
  さ: ["░█░░", "████", "░░█░", "░█░░", "░▀▀░"],
  し: ["█░░░", "█░░░", "█░░░", "█░░█", "░▀▀░"],
  す: ["░█░░", "████", "░█░█", "░██░", "░█░░"],
  せ: ["░█░█", "████", "░█░░", "░█░░", "░▀▀░"],
  そ: ["███░", "░░█░", "░█░░", "█░░░", "███░"],
  た: ["███░", "░█░░", "███░", "█░█░", "▀▀▀░"],
  ち: ["████", "░█░░", "░██░", "█░░█", "░▀▀░"],
  つ: ["░░░░", "████", "░░░█", "░░█░", "░█░░"],
  て: ["████", "░░█░", "░█░░", "░█░░", "░▀▀░"],
  と: ["░█░░", "░█░░", "░█░█", "░█░█", "░▀▀░"],
  な: ["░█░█", "███░", "░█░░", "███░", "░█░█"],
  に: ["█░██", "█░░░", "█░██", "█░░░", "█░██"],
  ぬ: ["█░█░", "███░", "█░█░", "███░", "█░░█"],
  ね: ["█░█░", "███░", "█░█░", "██░█", "█░█░"],
  の: ["░██░", "█░░█", "█░░█", "█░░█", "░▀▀░"],
  は: ["█░██", "█░█░", "█░██", "█░█░", "█░██"],
  ひ: ["█░█░", "█░█░", "░█░█", "░█░█", "░▀▀░"],
  ふ: ["░█░░", "█░█░", "░░░░", "█░█░", "░█░░"],
  へ: ["░░█░", "░█░█", "█░░█", "░░░░", "░░░░"],
  ほ: ["█░██", "█░█░", "████", "█░█░", "█░█░"],
  ま: ["████", "░█░░", "████", "░█░░", "░▀▀░"],
  み: ["███░", "░░█░", "███░", "░█░░", "░▀▀░"],
  む: ["█░░░", "███░", "░█░░", "░█░█", "░▀▀░"],
  め: ["░█░░", "███░", "█░█░", "███░", "█░░█"],
  も: ["░█░░", "████", "░█░░", "████", "░▀▀░"],
  や: ["░███", "░░█░", "░█░░", "█░░░", "░▀▀░"],
  ゆ: ["███░", "█░█░", "█░█░", "███░", "░░█░"],
  よ: ["░█░░", "███░", "░█░█", "░█░█", "░▀▀░"],
  ら: ["░██░", "░░░░", "░█░░", "█░░█", "░▀▀░"],
  り: ["█░░█", "█░░█", "█░░█", "█░░█", "░▀▀░"],
  る: ["███░", "░░█░", "░█░░", "░██░", "░█░░"],
  れ: ["█░░█", "█░█░", "██░░", "█░█░", "█░░█"],
  ろ: ["███░", "░░█░", "░█░░", "░░░░", "███░"],
  わ: ["█░██", "█░░█", "█░░█", "█░░█", "█░░█"],
  を: ["███░", "░█░░", "███░", "░█░░", "░▀▀░"],
  ん: ["█░░░", "█░█░", "█░█░", "██░█", "█░░█"]
};

// 小書き文字・濁点・半濁点の変換マップ
const NORMALIZE_MAP = {
  'が':'か','ぎ':'き','ぐ':'く','げ':'け','ご':'こ',
  'ざ':'さ','じ':'し','ず':'す','ぜ':'せ','ぞ':'そ',
  'だ':'た','ぢ':'ち','づ':'つ','で':'て','ど':'と',
  'ば':'は','び':'ひ','ぶ':'ふ','べ':'へ','ぼ':'ほ',
  'ぱ':'は','ぴ':'ひ','ぷ':'ふ','ぺ':'へ','ぽ':'ほ',
  'ぁ':'あ','ぃ':'い','ぅ':'う','ぇ':'え','ぉ':'お',
  'っ':'つ','ゃ':'や','ゅ':'ゆ','ょ':'よ',
  'ガ':'カ','ギ':'キ','グ':'ク','ゲ':'ケ','ゴ':'コ',
  'ザ':'サ','ジ':'シ','ズ':'ス','ゼ':'セ','ゾ':'ソ',
  'ダ':'タ','ヂ':'チ','ヅ':'ツ','デ':'テ','ド':'ト',
  'バ':'ハ','ビ':'ヒ','ブ':'フ','ベ':'ヘ','ボ':'ホ',
  'パ':'ハ','ピ':'ヒ','プ':'フ','ペ':'ヘ','ポ':'ホ',
  'ァ':'ア','ィ':'イ','ゥ':'ウ','ェ':'エ','ォ':'オ',
  'ッ':'ツ','ャ':'ヤ','ュ':'ユ','ョ':'ヨ'
};

const HEIGHT = 5;

// 生成処理
document.getElementById("gen").addEventListener("click", () => {
  let input = document.getElementById("text").value;
  
  // 1. 全角英数字を半角に、英字を大文字に変換
  input = input.normalize("NFKC").toUpperCase();

  // 2. 濁点・小書き文字を通常文字に置換
  let normalizedInput = "";
  for (let char of input) {
    normalizedInput += NORMALIZE_MAP[char] || char;
  }

  let lines = Array(HEIGHT).fill("");

  for (const c of normalizedInput) {
    const g = FONT[c];
    if (!g) continue;
    for (let i = 0; i < HEIGHT; i++) {
      lines[i] += g[i] + "░";
    }
  }

  document.getElementById("output").value = lines.join("\n");
});

// コピー処理
document.getElementById("copy").addEventListener("click", () => {
  const output = document.getElementById("output");
  output.select();
  navigator.clipboard.writeText(output.value).then(() => {
    const btn = document.getElementById("copy");
    const originalText = btn.innerText;
    btn.innerText = "Copied!";
    setTimeout(() => btn.innerText = originalText, 2000);
  });
});